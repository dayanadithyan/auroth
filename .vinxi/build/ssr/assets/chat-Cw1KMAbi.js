import{jsx as t,jsxs as m}from"react/jsx-runtime";import{useChat as f}from"@ai-sdk/react";import{c as n}from"./ssr-CFvDa_fU.js";import{useNavigate as g}from"@tanstack/react-router";import{useEffect as h}from"react";function p({className:e,type:i,...r}){return t("input",{type:i,"data-slot":"input",className:n("file:text-foreground placeholder:text-muted-foreground selection:bg-primary selection:text-primary-foreground dark:bg-input/30 border-input flex h-9 w-full min-w-0 rounded-md border bg-transparent px-3 py-1 text-base shadow-xs transition-[color,box-shadow] outline-none file:inline-flex file:h-7 file:border-0 file:bg-transparent file:text-sm file:font-medium disabled:pointer-events-none disabled:cursor-not-allowed disabled:opacity-50 md:text-sm","focus-visible:border-ring focus-visible:ring-ring/50 focus-visible:ring-[3px]","aria-invalid:ring-destructive/20 dark:aria-invalid:ring-destructive/40 aria-invalid:border-destructive",e),...r})}function M(e){const{messages:i,input:r,handleSubmit:o,handleInputChange:l,id:s,experimental_resume:d,setMessages:x,data:v}=f({id:e.id,initialMessages:e.chat?.[0]?.messages,sendExtraMessageFields:!0});console.log(s);const u=g();function c(a){return i.length<1&&u({to:"/chats/$chatId",params:{chatId:s}}),o(a)}return h(()=>{d()},[]),m("div",{className:"relative h-full",children:[t("div",{className:"space-y-2 flex flex-col",children:i.map(a=>t(b,{message:a},a.id))}),t("form",{onSubmit:c,children:t(p,{className:"absolute bottom-1",placeholder:"Say hi to Auroth",onChange:l,value:r})})]})}function b(e){return t("div",{className:n("p-3 rounded-xl w-fit",e.message.role==="user"&&"self-end bg-card"),children:t("p",{children:e.message.content})})}export{M as C};
